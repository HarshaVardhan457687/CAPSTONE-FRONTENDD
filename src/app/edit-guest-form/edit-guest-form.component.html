<div class="modal-overlay" (click)="closeForm()"></div>
<form #guestForm="ngForm" (ngSubmit)="onSubmit()" class="form-guest">
    <div class="header">
        <h1 class="heading">Edit Guest</h1>
        <button type="button" class="cancel" (click)="closeForm()">
            <img src="assets/cancel-grey.png" alt="close">
        </button>
    </div>

    <div class="form-group">
        <label>Guest Name:</label>
        <input 
            type="text" 
            name="name" 
            [(ngModel)]="editedGuest.name" 
            required 
            #nameInput="ngModel"
            [class.error]="nameInput.invalid && nameInput.touched"
        />
        <div class="error-message" *ngIf="nameInput.invalid && nameInput.touched">
            Name is required
        </div>
    </div>

    <div class="form-group">
        <label>Email:</label>
        <input 
            type="email" 
            name="email" 
            [(ngModel)]="editedGuest.email" 
            required 
            email
            #emailInput="ngModel"
            [class.error]="emailInput.invalid && emailInput.touched"
        />
        <div class="error-message" *ngIf="emailInput.invalid && emailInput.touched">
            Please enter a valid email
        </div>
    </div>


    <div class="form-group">
        <label>Dietary Preference:</label>
        <select 
            name="dietaryPreference" 
            [(ngModel)]="editedGuest.dietaryPreference"
            required
            #dietaryInput="ngModel"
        >
            <option [ngValue]="0">Vegetarian</option>
            <option [ngValue]="1">Non-Vegetarian</option>
        </select>
    </div>

    <button 
        type="submit" 
        class="submit" 
        [disabled]="guestForm.invalid || isSubmitting"
    >
        {{ isSubmitting ? 'Updating...' : 'Update Guest' }}
    </button>
</form>