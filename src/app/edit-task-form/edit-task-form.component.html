<div class="modal-overlay" (click)="closeForm()"></div>
<form #taskForm="ngForm" (ngSubmit)="onSubmit()" class="form-task">
  <div class="header">
    <h1 class="heading">Edit Task</h1>
    <button type="button" class="cancel" (click)="closeForm()">
      <img src="assets/cancel-grey.png" alt="close">
    </button>
  </div>

  <div class="form-group">
    <label>Task Name:</label>
    <input 
      type="text" 
      name="name" 
      [(ngModel)]="editedTask.name" 
      required 
      #nameInput="ngModel"
      [class.error]="nameInput.invalid && nameInput.touched"
    />
  </div>

  <div class="form-group">
    <label>Description:</label>
    <input 
      type="text" 
      name="description" 
      [(ngModel)]="editedTask.description" 
      required 
      #descInput="ngModel"
      [class.error]="descInput.invalid && descInput.touched"
    />
  </div>

  <div class="form-row">
    <div class="form-group">
      <label>Start Date:</label>
      <input  
      class="date"
        type="date" 
        name="startDate" 
        [(ngModel)]="editedTask.startDate" 
        required 
        #startDateInput="ngModel"
        [class.error]="startDateInput.invalid && startDateInput.touched"
      />
    </div>
    <div class="form-group">
      <label>End Date:</label>
      <input  
      class="date"
        type="date" 
        name="endDate" 
        [(ngModel)]="editedTask.endDate" 
        required 
        #endDateInput="ngModel"
        [class.error]="endDateInput.invalid && endDateInput.touched"
      />
    </div>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label>Start Time:</label>
      <input  
      class="date"
        type="time" 
        name="startTime" 
        [(ngModel)]="editedTask.startTime" 
        required 
        #startTimeInput="ngModel"
        [class.error]="startTimeInput.invalid && startTimeInput.touched"
      />
    </div>
    <div class="form-group">
      <label>End Time:</label>
      <input  
      class="date"
        type="time" 
        name="endTime" 
        [(ngModel)]="editedTask.endTime" 
        required 
        #endTimeInput="ngModel"
        [class.error]="endTimeInput.invalid && endTimeInput.touched"
      />
    </div>
  </div>

  <button 
    type="submit" 
    class="submit" 
    [disabled]="taskForm.invalid || isSubmitting">
    {{ isSubmitting ? 'Updating...' : 'Update Task' }}
  </button>
</form>